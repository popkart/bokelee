## 系统调优
### 问题定位

`/proc/sys/fs/file-nr`
该文件与 file-max 相关，它有三个值：

1. 已分配文件句柄的数目
1. 已使用文件句柄的数目
1. 文件句柄的最大数目

该文件是只读的，仅用于显示信息。
 

##### 查看所有进程的文件打开数

`lsof |wc -l`


##### 查看某个进程打开的文件数

`lsof -p pid |wc -l`  
或者(这种方式连接数少一点)：  
`ls /proc/pid/fd/ |wc -l `
